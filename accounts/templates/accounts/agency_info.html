{# accounts/templates/accounts/agency_info.html #}
{% extends 'accounts/base_agency.html' %}
{% load static %}

{% block main_content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Informations de l'Agence</h1>
</div>

<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Modifier les Informations de l'Agence</h5>
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="{{ update_form.agency_name.id_for_label }}" class="form-label">Nom de l'Agence:</label>
                        {{ update_form.agency_name }}
                        {% if update_form.agency_name.errors %}
                            <div class="invalid-feedback">
                                {{ update_form.agency_name.errors|join:", " }}
                            </div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ update_form.contact_info.id_for_label }}" class="form-label">Informations de Contact:</label>
                        {{ update_form.contact_info }}
                        {% if update_form.contact_info.errors %}
                            <div class="invalid-feedback">
                                {{ update_form.contact_info.errors|join:", " }}
                            </div>
                        {% endif %}
                    </div>
                    <div class="mb-3">
                        <label for="{{ update_form.logo.id_for_label }}" class="form-label">Logo de l'Agence:</label>
                        {{ update_form.logo }}
                        {% if update_form.logo.errors %}
                            <div class="invalid-feedback">
                                {{ update_form.logo.errors|join:", " }}
                            </div>
                        {% endif %}
                        {% if agency.logo %}
                            <img src="{{ agency.logo.url }}" alt="Logo actuel de l'agence" class="img-fluid mt-2" style="max-width: 200px;">
                        {% endif %}
                    </div>
                    <button type="submit" class="btn btn-primary">Mettre Ã  Jour</button>
                </form>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Informations Actuelles</h5>
                <p><strong>Nom de l'Agence:</strong> {{ agency.agency_name }}</p>
                <p><strong>Informations de Contact:</strong> {{ agency.contact_info }}</p>
                {% if agency.logo %}
                    <img src="{{ agency.logo.url }}" alt="Logo actuel de l'agence" class="img-fluid" style="max-width: 200px;">
                {% else %}
                    <p>Aucun logo actuel.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
